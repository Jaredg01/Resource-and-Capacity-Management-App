{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/SAIT/capstone_project/Resource-and-Capacity-Management-App/resource-and-capacity-management-app/app/page.js"],"sourcesContent":["'use client';\r\n// Marks this component as a client-side component in Next.js\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function LoginPage() {\r\n    // Track username and password input fields\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    // Router instance for navigation\r\n    const router = useRouter();\r\n\r\n    // Handles login form submission\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault(); // Prevent page reload\r\n\r\n        try {\r\n            // API base URL (supports environment variable override)\r\n            const apiUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\r\n\r\n            // Send login request to backend\r\n            const response = await fetch(`${apiUrl}/api/auth/login`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ username, password })\r\n            });\r\n\r\n            // Parse JSON response\r\n            const data = await response.json();\r\n\r\n            // Handle invalid login\r\n            if (!response.ok) {\r\n                alert(data.error || 'Login failed. Please try again.');\r\n                return;\r\n            }\r\n\r\n            // Save authenticated user to localStorage\r\n            localStorage.setItem('user', JSON.stringify(data.user));\r\n\r\n            // Redirect to dashboard\r\n            router.push('/dashboard');\r\n\r\n        } catch (error) {\r\n            console.error('Login error:', error);\r\n            alert('Login failed. Please check your connection and try again.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div \r\n            className=\"fixed inset-0 bg-white/30 backdrop-blur-sm flex items-center justify-center z-50\"\r\n            onClick={() => router.push('/')} // Clicking outside closes the modal\r\n        >\r\n            <div \r\n                className=\"bg-white rounded-lg shadow-xl p-6 w-full max-w-md m-4 border border-gray-200\"\r\n                onClick={(e) => e.stopPropagation()} // Prevent modal close when clicking inside\r\n            >\r\n                {/* Header with logo and close button */}\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                    <img src=\"/CapstoneDynamicsLogo.png\" alt=\"Logo\" className=\"h-20 flex-shrink-0\"/>\r\n\r\n                    <div className=\"flex flex-col items-center justify-center flex-1 mx-4\">\r\n                        <h3 className=\"text-xl font-bold text-[#017ACB] whitespace-nowrap leading-tight\" style={{ fontFamily: 'Outfit, sans-serif' }}>\r\n                            Capstone Dynamics\r\n                        </h3>\r\n                        <h4 className=\"text-sm font-bold text-black whitespace-nowrap leading-tight mt-1\" style={{ fontFamily: 'Outfit, sans-serif' }}>\r\n                            Resource & Capacity Management\r\n                        </h4>\r\n                    </div>\r\n\r\n                    {/* Close button */}\r\n                    <button\r\n                        onClick={() => router.push('/')}\r\n                        className=\"text-gray-500 hover:text-gray-700 text-2xl cursor-pointer flex-shrink-0 w-8 h-8 flex items-center justify-center\"\r\n                    >\r\n                        Ã—\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Login form */}\r\n                <form onSubmit={handleLogin} className=\"space-y-4\">\r\n\r\n                    {/* Username input */}\r\n                    <div>\r\n                        <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Username\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"username\"\r\n                            value={username}\r\n                            onChange={(e) => setUsername(e.target.value)}\r\n                            className=\"w-full px-4 py-2 border text-gray-700 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white\"\r\n                            placeholder=\"Enter your username\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Password input */}\r\n                    <div>\r\n                        <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                            Password\r\n                        </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            value={password}\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                            className=\"w-full px-4 py-2 border text-gray-700 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white\"\r\n                            placeholder=\"Enter your password\"\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Forgot password link */}\r\n                    <div className=\"text-right\">\r\n                        <Link\r\n                            href=\"/Profile/forgot-password\"\r\n                            className=\"text-sm text-blue-600 hover:text-blue-800 cursor-pointer\"\r\n                        >\r\n                            Forgot Password?\r\n                        </Link>\r\n                    </div>\r\n\r\n                    {/* Action buttons */}\r\n                    <div className=\"flex gap-3\">\r\n                        {/* Cancel button */}\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => router.push('/')}\r\n                            className=\"flex-1 px-4 py-2 text-gray-700 border border-gray-500 rounded-lg hover:bg-gray-300 cursor-pointer transition\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n\r\n                        {/* Submit button */}\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer transition\"\r\n                        >\r\n                            Sign In\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA,6DAA6D;AAE7D;AACA;AACA;AALA;;;;;AAOe,SAAS;IACpB,2CAA2C;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,qQAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,qQAAQ,EAAC;IAEzC,iCAAiC;IACjC,MAAM,SAAS,IAAA,mMAAS;IAExB,gCAAgC;IAChC,MAAM,cAAc,OAAO;QACvB,EAAE,cAAc,IAAI,sBAAsB;QAE1C,IAAI;YACA,wDAAwD;YACxD,MAAM,SAAS,6DAAmC;YAElD,gCAAgC;YAChC,MAAM,WAAW,MAAM,MAAM,GAAG,OAAO,eAAe,CAAC,EAAE;gBACrD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAU;gBAAS;YAC9C;YAEA,sBAAsB;YACtB,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,uBAAuB;YACvB,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,KAAK,KAAK,IAAI;gBACpB;YACJ;YAEA,0CAA0C;YAC1C,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,KAAK,IAAI;YAErD,wBAAwB;YACxB,OAAO,IAAI,CAAC;QAEhB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,MAAM;QACV;IACJ;IAEA,qBACI,kSAAC;QACG,WAAU;QACV,SAAS,IAAM,OAAO,IAAI,CAAC;kBAE3B,cAAA,kSAAC;YACG,WAAU;YACV,SAAS,CAAC,IAAM,EAAE,eAAe;;8BAGjC,kSAAC;oBAAI,WAAU;;sCACX,kSAAC;4BAAI,KAAI;4BAA4B,KAAI;4BAAO,WAAU;;;;;;sCAE1D,kSAAC;4BAAI,WAAU;;8CACX,kSAAC;oCAAG,WAAU;oCAAmE,OAAO;wCAAE,YAAY;oCAAqB;8CAAG;;;;;;8CAG9H,kSAAC;oCAAG,WAAU;oCAAoE,OAAO;wCAAE,YAAY;oCAAqB;8CAAG;;;;;;;;;;;;sCAMnI,kSAAC;4BACG,SAAS,IAAM,OAAO,IAAI,CAAC;4BAC3B,WAAU;sCACb;;;;;;;;;;;;8BAML,kSAAC;oBAAK,UAAU;oBAAa,WAAU;;sCAGnC,kSAAC;;8CACG,kSAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAA+C;;;;;;8CAGnF,kSAAC;oCACG,MAAK;oCACL,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;oCACV,aAAY;oCACZ,QAAQ;;;;;;;;;;;;sCAKhB,kSAAC;;8CACG,kSAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAA+C;;;;;;8CAGnF,kSAAC;oCACG,MAAK;oCACL,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;oCACV,aAAY;oCACZ,QAAQ;;;;;;;;;;;;sCAKhB,kSAAC;4BAAI,WAAU;sCACX,cAAA,kSAAC,2NAAI;gCACD,MAAK;gCACL,WAAU;0CACb;;;;;;;;;;;sCAML,kSAAC;4BAAI,WAAU;;8CAEX,kSAAC;oCACG,MAAK;oCACL,SAAS,IAAM,OAAO,IAAI,CAAC;oCAC3B,WAAU;8CACb;;;;;;8CAKD,kSAAC;oCACG,MAAK;oCACL,WAAU;8CACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQzB"}}]
}